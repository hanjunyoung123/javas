<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>테이블만들기</title>
    <style>
        form{
            margin-bottom: 30px;
        }
        input[type="text"]{
            width: 30px;
            height: 20px;
        }
        button{
            margin-left: 30px;
        }
        table{
            width: 300px;
            border-collapse: collapse;
        }
        table,td{
            border: 1px solid #ccc;
        }
        td{
            padding: 10px;
        }
    </style>
</head>
<body>
    <form id="tableForm">
        <input type="text" id="rCount" value="1">행
        <input type="text" id="cCount" value="1">열
        <button type="submit">작성</button>
    </form>
    <div id="contents">
        <!-- js출력 -->
        <script>
            const form = document.querySelector("#tableForm")
            // 추가를 클릭했을때 함수
            form.addEventListener("submit",function(e){
                e.preventDefault()
                createTable()
            })
            // 테이블 생성 함수
            function createTable(){
                // 행과열 가져오기
                const rCount = document.querySelector("#rCount").value
                // console.log(rCount);
                const cCount = document.querySelector("#cCount").value
                // console.log(cCount);
                
                //  새로운 테이블 요소생성
                const newTable = document.createElement("table")
                // console.log(newTable);
                Array.from({length:rCount}).forEach(function(_,i){
                    // console.log(i);
                    // 새로운 tr요소를 생성한다.
                    const newRow = document.createElement("tr")
                    Array.from({length:cCount}).forEach(function(_,j){
                        // console.log(j);
                        // 새로운 셀(td)를 생성하고 텍스트노드를 추가
                        const newCell = document.createElement("td")
                        const cellText = document.createTextNode(`${i+1},${j+1}`)
                        // console.log(cellText);
                        newCell.appendChild(cellText)
                        newRow.appendChild(newCell)
                        // console.log(newRow);
                    newTable.appendChild(newRow)

                    })

                })
                const content = document.querySelector("#contents")
                content.innerHTML = ""
                content.appendChild(newTable)
                document.querySelector("#rCount").value = 1;
                document.querySelector("#cCount").value = 1;
            }
            
        </script>
    </div>
</body>
</html>